var weather=angular.module("weather",["ngResource","ngRoute","ui.bootstrap"]);weather.config(function(a){a.when("/weather",{templateUrl:"template/weather.html",controller:"weatherCtrl"}).when("/registration",{templateUrl:"template/registration.html",controller:"validationCtrl"}).when("/help",{templateUrl:"template/help.html",controller:"weatherCtrl"}).otherwise({redirectTo:"/"})}),weather.controller("validationCtrl",function(a){a.user={username:"",usersurname:"",email:"",sex:"male",dt:"",address:"",weight:"",occupation:"",hobs:[],comment:""},console.log(a.user),a.max=Object.keys(a.user).length,console.log(Object.keys(a.user).length),a.dynamic=1,a.hobbies={Reading:!1,Jumping:!1,Swimming:!1,Cycling:!1},a.reset=function(){a.user={username:"",usersurname:"",email:"",sex:"male",dt:"",address:"",weight:"",occupation:"",hobs:[],comment:""}},a.$watchCollection("hobbies",function(){a.user.hobs=[],angular.forEach(a.hobbies,function(b,c){b&&a.user.hobs.push(c)})}),a.clear=function(){a.user.dt=null},a.open1=function(){a.popup1.opened=!0},a.popup1={opened:!1};for(prop in a.user)a.$watch("user."+prop,function(b,c){b&&!c?a.dynamic++:!b&&c&&a.dynamic--});a.$watch("user.hobs",function(b,c){b.length>c.length&&0==c.length&&a.dynamic++,b.length<c.length&&1==c.length&&a.dynamic--})}),weather.directive("validateMinWords",function(){return{restrict:"A",require:"ngModel",scope:{validateMinWords:"="},link:function(a,b,c,d){d.$validators.minwords=function(b){return d.$isEmpty(b)||b.split(" ").length>=a.validateMinWords}}}}),weather.directive("lowerCase",function(){return{restrict:"A",require:"ngModel",scope:{},link:function(a,b,c,d){d.$parsers.push(function(a){if(a)return a.toLowerCase()})}}}),weather.controller("weatherCtrl",function(a){a.search=function(b){b.preventDefault(),console.log(a.city),a.input=a.city},a.weekday=function(a){var b=["Sundey","Mondey","Tuesday","Wednesday","Thursday","Fridey","Saturday"];return b[new Date(a).getDay()]},a.weatherIcons={Rain:"images/icons/icon-9.svg",Clouds:"images/icons/icon-3.svg",Atmosphere:"images/icons/icon-7.svg",Thunderstorm:"images/icons/icon-12.svg",Drizzle:"images/icons/icon-5.svg",Snow:"images/icons/icon-14.svg",Clear:"images/icons/icon-2.svg",Extreme:"images/icons/icon-8.svg",Additional:"images/icons/icon-3.svg"}}),weather.directive("widget",function(a,b){return{restrict:"E",link:function(c,d){c.$watch("input",function(d){d&&(a.get({city:d},function(a){c.data=a}),b.get({city:d},function(a){c.dataforecast=a.list}))})}}}),weather.factory("weatherResource",function(a){var b="6e3fcb812a6ea26bfbb60bacee7afa6f",c="http://api.openweathermap.org/data/2.5/weather?q=:city&units=metric&appid="+b;return a(c)}),weather.factory("weatherWeekResource",function(a){var b="6e3fcb812a6ea26bfbb60bacee7afa6f",c="http://api.openweathermap.org/data/2.5/forecast?q=:city&units=metric&appid="+b;return a(c)});